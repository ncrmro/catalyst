{
  "permissions": {
    "allow": [
      "Bash(bin/kubectl:*)",
      "Read(./.deepwork/tmp/**)",
      "Edit(./.deepwork/tmp/**)",
      "Write(./.deepwork/tmp/**)",
      "Bash(rm -rf .deepwork/tmp/rules/queue/*.json)",
      "Skill(deepwork_rules)",
      "Skill(deepwork_rules.define)",
      "Skill(deepwork_jobs)",
      "Skill(deepwork_jobs.define)",
      "Skill(deepwork_jobs.review_job_spec)",
      "Skill(deepwork_jobs.implement)",
      "Skill(deepwork_jobs.learn)",
      "Skill(tasks)",
      "Skill(tasks.detect_source)",
      "Skill(tasks.parse_tasks)",
      "Skill(tasks.select_task)",
      "Skill(tasks.implement_task)",
      "Skill(tasks.validate_task)",
      "Skill(tasks.commit_task)",
      "Skill(tasks.wait_ci)",
      "Skill(tasks.debug_ci)"
    ]
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit|NotebookEdit",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/format-and-lint.py",
            "timeout": 60
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/typecheck-on-stop.py",
            "timeout": 60
          }
        ]
      },
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "deepwork hook rules_check"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": ".deepwork/jobs/deepwork_rules/hooks/user_prompt_submit.sh"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "deepwork hook rules_check"
          }
        ]
      }
    ]
  }
}